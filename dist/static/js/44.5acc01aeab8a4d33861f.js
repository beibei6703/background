webpackJsonp([44],{"/tRN":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("mtWM");var a=s("mw3O"),i=s.n(a),n=s("nv77"),l={name:"setnum",data:function(){return{id:"",radio:"1",rules:[],rules1:[],listInfo:[],value:1,name:"",checkAll:!1,checkItem:[],checkItem1:[],isIndeterminate:!0,arr:[],roles:[],status:"",username:"",realname:"",mobile:"",worker:"",role_id:""}},methods:{handleChange:function(e){console.log(e),this.role_id=e;var t=i.a.stringify({id:e});Object(n.g)(t).then(this.handleRuleSucc.bind(this))},handleRuleSucc:function(e){console.log(e);var t=e.data;1==t.status&&t.info&&(this.rules=t.info.rules,this.rules=this.rules.map(function(e){return parseInt(e)}),this.checkItem=this.rules,console.log(this.checkItem))},handleCheckeditems:function(e){console.log(this.checkItem)},handleCheckeditemsChange:function(e){console.log(this.checkItem)},getdata:function(){var e=this;Object(n.h)().then(function(t){if(1==t.data.status&&t.data.info){var s=[];for(var a in t.data.info)s.push(t.data.info[a]);e.listInfo=s}}),Object(n.e)().then(function(t){console.log(t),1==t.data.status&&(e.roles=t.data.info)});var t=i.a.stringify({id:this.id});Object(n.c)(t).then(this.getSucc.bind(this))},getSucc:function(e){console.log(e);var t=e.data;1==t.status&&t.info?(this.username=t.info.username,this.realname=t.info.realname,this.mobile=t.info.mobile,this.worker=t.info.title,this.status=t.info.status,this.rules=t.info.rules,this.role_id=t.info.role_id,console.log(this.rules),this.rules=this.rules.map(function(e){return parseInt(e)}),this.checkItem=this.rules,this.checkItem=this.rules,1==this.status?this.radio="1":this.radio="2"):this.$message({showClose:!0,message:t.msg,type:"error"})},handleEdit:function(){var e=i.a.stringify({id:this.id,username:this.username,realname:this.realname,role_id:this.role_id,rules:this.checkItem});Object(n.d)(e).then(this.handleSucc.bind(this))},handleSucc:function(e){var t=e.data;1==t.status?(this.getdata(),this.$message({showClose:!0,message:t.msg,type:"success"}),this.$router.push("/accountnum")):this.$message({showClose:!0,message:t.msg,type:"error"})}},created:function(){this.id=this.$route.query.id,this.getdata()}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header_shop"},[s("span",{staticClass:"blueColor"},[s("router-link",{attrs:{to:"/accountnum"}},[e._v("账户管理 >")])],1),e._v(" "),s("span",[e._v("设置")])]),e._v(" "),s("div",{staticClass:"shop_info"},[s("p",{staticClass:"info_tit"},[e._v("账号基本信息")]),e._v(" "),s("div",{staticClass:"user_one"},[s("span",{staticClass:"user_title"},[e._v("账号：")]),e._v(" "),s("span",{staticClass:"margin_L"},[e._v(e._s(e.username))])]),e._v(" "),s("div",{staticClass:"user_one"},[s("span",{staticClass:"user_title"},[e._v("手机号：")]),e._v(" "),s("span",{staticClass:"margin_L"},[e._v(e._s(e.mobile))])]),e._v(" "),s("div",{staticClass:"user_one"},[s("span",{staticClass:"user_title"},[e._v("使用者职位：")]),e._v(" "),s("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.worker,callback:function(t){e.worker=t},expression:"worker"}},e._l(e.roles,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),s("p",{staticClass:"info_tit"},[e._v("权限设置")]),e._v(" "),e._l(e.listInfo,function(t,a){return s("div",{key:a,staticClass:"role_one"},[s("el-checkbox-group",{on:{change:e.handleCheckeditems},model:{value:e.checkItem,callback:function(t){e.checkItem=t},expression:"checkItem"}},[s("el-checkbox",{attrs:{label:t.id}},[e._v(e._s(t.title))])],1),e._v(" "),s("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),s("el-checkbox-group",{on:{change:e.handleCheckeditemsChange},model:{value:e.checkItem,callback:function(t){e.checkItem=t},expression:"checkItem"}},e._l(t.children,function(t){return s("el-checkbox",{key:t.id,staticClass:"box_child",attrs:{label:t.id}},[e._v(e._s(t.title))])}))],1)}),e._v(" "),s("div",{staticClass:"btns"},[s("el-button",{attrs:{type:"primary"},on:{click:e.handleEdit}},[e._v("保存")])],1)],2)])},staticRenderFns:[]};var o=s("VU/8")(l,c,!1,function(e){s("tHWl")},"data-v-049bba8b",null);t.default=o.exports},tHWl:function(e,t){}});
//# sourceMappingURL=44.5acc01aeab8a4d33861f.js.map