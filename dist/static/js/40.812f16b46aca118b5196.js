webpackJsonp([40],{haX2:function(t,e){},qftj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mw3O"),i=s.n(a),n=s("vUNl"),o=s("14gb"),r={name:"ad",data:function(){return{name:"",id:"",total:0,page:1,currentPage:1,pageSize:0,totalCount:0,list:[],e_id:""}},methods:{increaseAd:function(){this.$router.push("/increasead")},getEditAd:function(t){this.$router.push("/adedit?id="+t.id)},getDeletAd:function(t){Object(n.b)(t.id).then(this.handleDeleSucc.bind(this))},handleDeleSucc:function(t){console.log(t);var e=t.data;1==e.status?(this.$message({showClose:!0,message:e.msg,type:"success"}),this.getdata()):this.$message({showClose:!0,message:e.msg,type:"error"})},getStatus:function(t){console.log(t.status);var e=i.a.stringify({id:t.id});1==t.status?Object(n.h)(e).then(this.Succ.bind(this)):Object(n.g)(e).then(this.Succ.bind(this))},Succ:function(t){var e=t.data;1==e.status?(this.$message({showClose:!0,message:e.msg,type:"success"}),this.getdata()):(this.$message({showClose:!0,message:e.msg,type:"error"}),this.getdata())},typeIndex:function(t){return t+(this.page-1)*this.pageSize+1},handleCurrentChange:function(t){this.page=t;var e={page:t,id:this.id};Object(n.c)(e).then(this.getSucc.bind(this))},getdata:function(){var t={page:1,id:this.id};Object(n.c)(t).then(this.getSucc.bind(this))},getSucc:function(t){var e=t.data;if(1==e.status&&e.info){this.list=e.info.data,this.total=e.info.total,this.currentPage=Number(e.info.current_page),this.totalCount=e.info.total,this.pageSize=e.info.per_page;for(var s=0;s<this.list.length;s++)1==this.list[s].status?this.list[s].status=!0:this.list[s].status=!1}}},created:function(){this.id=this.$route.query.id,this.name=this.$route.query.name,this.getdata()},beforeDestroy:function(){o.a.$emit("trandata",this.name)}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wraper"},[s("div",{staticClass:"publish-task-top"},[s("span",[t._v("广告分类："+t._s(t.name))]),t._v(" "),s("el-button",{on:{click:t.increaseAd}},[t._v("新增广告")])],1),t._v(" "),s("div",{staticClass:"table_tabs"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[s("el-table-column",{attrs:{type:"index",index:t.typeIndex,label:"序号",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{prop:"title",label:"广告名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-switch",{on:{change:function(s){t.getStatus(e.row)}},model:{value:e.row.status,callback:function(s){t.$set(e.row,"status",s)},expression:"scope.row.status"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){t.getEditAd(e.row)}}},[t._v("编辑")]),t._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){t.getDeletAd(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),s("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:" total, prev, pager, next, jumper",background:"",total:t.totalCount},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var c=s("VU/8")(r,l,!1,function(t){s("haX2")},"data-v-1c1f329e",null);e.default=c.exports}});
//# sourceMappingURL=40.812f16b46aca118b5196.js.map